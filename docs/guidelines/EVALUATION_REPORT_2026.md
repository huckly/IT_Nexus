# IT Nexus v5.4 — 資訊部經理需求檢討報告

> **審查日期**: 2026-02-17  
> **專案版本**: IT Nexus v5.4  
> **角色**: 資訊部經理視角

---

## 一、五大核心需求逐項檢討

### ✅ 1. 掌握所有的設備

| 評估 | 說明 |
|------|------|
| **滿足程度** | ⭐⭐⭐⭐ (80%) |
| **已實現** | LibreNMS 自動發現 IP 設備 → 同步至 NetBox (SoT) → 再同步至 GLPI 資產系統，三層完整覆蓋 |
| **已實現** | 設備自動分類 (Server / Switch / Firewall / AP / Printer / NAS / UPS) |
| **已實現** | 序號、型號、製造商、介面 (Port)、IP 位址全自動同步 |

> [!WARNING]
> **缺口：被動設備仍靠人工**  
> Patch Panel、無 IP 備品、線材等**被動設備**需手動登錄至 NetBox。目前沒有提醒或稽核機制確保這些設備確實被登錄。

> [!WARNING]
> **缺口：缺少設備總覽儀表板**  
> 沒有一個統一的 Dashboard 可以讓經理**一眼看到**「全公司有幾台設備、各類別分佈、各站點分佈」。資料散落在三個平台。

---

### ⚠️ 2. 任何異動都可以在第一時間知道嗎

| 評估 | 說明 |
|------|------|
| **滿足程度** | ⭐⭐ (40%) |
| **已實現** | 設備上下線狀態變更 (Active ↔ Decommissioning) 會在下次同步時反映至 NetBox |
| **已實現** | 同步失敗時會透過 Email 通知 (`sync-failure-notify@.service`) |

> [!CAUTION]
> **嚴重缺口：同步週期為 24 小時**  
> 目前 LibreNMS → NetBox 同步 Timer 設為**每日 02:00 執行一次**。這意味著：
> - 白天新增的設備，要到**隔天凌晨**才會出現在 NetBox
> - 設備異動（角色變更、序號更新等）**最多延遲 24 小時**才會反映
> - **完全不是「第一時間」**

> [!CAUTION]
> **嚴重缺口：缺少變更通知機制**  
> 沒有任何機制在設備資訊**發生變更時**主動通知經理，例如：
> - 新設備被偵測到
> - 設備序號 / 型號 / IP 發生改變
> - 設備被標記為離線

---

### ⚠️ 3. 設備有狀況可以在第一時間知道嗎

| 評估 | 說明 |
|------|------|
| **滿足程度** | ⭐⭐⭐ (60%) |
| **已實現** | LibreNMS 本身有即時監控和告警功能 (Alerting) |
| **已實現** | `librenms_alert_glpi.py` 可在設備 Down 時**自動開立 GLPI 工單** |
| **已實現** | 工單根據嚴重程度自動設定 Urgency (Device Down = 5, Warning = 3) |

> [!WARNING]
> **缺口：告警類型太單一**  
> 目前 Alert Transport 只處理了 **Device Down** 場景。以下常見異常完全沒覆蓋：
> - CPU / Memory / Disk 超過閾值
> - 網路介面 Error / CRC 異常飆升
> - 流量頻寬超載
> - UPS 電池低電量 / 市電中斷
> - 溫度異常

> [!WARNING]
> **缺口：缺少分級通報鏈**  
> 沒有依照設備重要性 (Core Switch vs. 一般 PC) 做分級通報。所有告警等級一視同仁。

---

### ❌ 4. 出狀況後可以馬上知道設備任何參數做了調整嗎

| 評估 | 說明 |
|------|------|
| **滿足程度** | ⭐ (10%) |

> [!CAUTION]
> **嚴重缺口：完全沒有組態變更追蹤 (Configuration Change Tracking)**  
> 目前系統**無法**回答以下問題：
> - 修完故障後，工程師改了哪些設定？
> - Switch 的 VLAN 設定什麼時候被改過？
> - Firewall Rule 最近有沒有被動過？
>
> NetBox 雖有 Change Log，但只記錄**在 NetBox 上的操作**，不記錄設備本體的組態變更。  
> LibreNMS 的 Oxidized 整合或 Config Backup 功能**尚未被本專案採用**。

---

### ❌ 5. 狀況處理完之後，有記錄下發生原因跟處理方式嗎

| 評估 | 說明 |
|------|------|
| **滿足程度** | ⭐⭐ (30%) |
| **已實現** | GLPI 工單系統**有能力**記錄 Incident 的處理過程 |
| **已實現** | Alert 觸發時會自動建立工單 |

> [!CAUTION]
> **嚴重缺口：工單建立後無閉環管理**  
> - 自動建立的工單只記錄了**告警標題和訊息**，缺少結構化的「根因分析 (Root Cause)」和「處理方式」欄位
> - **沒有自動關閉機制**：設備恢復後，GLPI 工單不會自動更新為已解決
> - **沒有強制回填機制**：工程師可能修完就忘記回填工單
> - **缺少 Post-Incident Review 流程**

---

## 二、總體評分

```
┌──────────────────────────────────────────────────────────────┐
│  需求                              │ 滿足度    │ 判定      │
├──────────────────────────────────────────────────────────────┤
│  1. 掌握所有設備                    │ ⭐⭐⭐⭐   │ 大致滿足  │
│  2. 異動即時通知                    │ ⭐⭐      │ 不足      │
│  3. 設備異常即時通知                │ ⭐⭐⭐    │ 部分滿足  │
│  4. 參數調整追蹤                    │ ⭐        │ 嚴重不足  │
│  5. 事件記錄與閉環                  │ ⭐⭐      │ 不足      │
└──────────────────────────────────────────────────────────────┘
```
